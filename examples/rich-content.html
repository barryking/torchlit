<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Torchlit — Rich Content Example</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      max-width: 640px;
      margin: 2rem auto;
      padding: 0 1rem;
      color: #18181b;
    }
    h1 { margin-bottom: 0.25rem; }
    .subtitle { color: #71717a; margin-bottom: 1.5rem; }
    button {
      padding: 0.5rem 1rem;
      background: #F26122;
      color: white;
      border: none;
      border-radius: 0.375rem;
      cursor: pointer;
      font-weight: 500;
      font-family: inherit;
      margin-bottom: 1.5rem;
    }
    button:hover { background: #BF4A1A; }
    .card {
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      padding: 1.25rem;
      margin-bottom: 1rem;
    }
    .card strong { display: block; margin-bottom: 0.25rem; }
    .card p { color: #6b7280; font-size: 0.875rem; line-height: 1.5; margin: 0; }
    .toolbar {
      display: flex;
      gap: 0.5rem;
      padding: 0.75rem 1rem;
      background: #f3f4f6;
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
    }
    .toolbar span {
      display: inline-flex;
      align-items: center;
      gap: 0.375rem;
      padding: 0.25rem 0.5rem;
      font-size: 0.8125rem;
      color: #6b7280;
      border-radius: 0.25rem;
      cursor: pointer;
    }
    .toolbar span:hover { background: #e5e7eb; }
    code {
      font-family: ui-monospace, monospace;
      font-size: 0.8125rem;
      background: #f3f4f6;
      padding: 0.1em 0.35em;
      border-radius: 0.25rem;
    }
  </style>
</head>
<body>
  <h1>Rich Content Messages</h1>
  <p class="subtitle">
    Step messages support Lit <code>html``</code> templates for inline HTML —
    bold text, keyboard shortcuts, lists, and more.
  </p>

  <button id="start-tour">Start Tour</button>

  <div class="toolbar" data-tour-id="toolbar">
    <span>Bold</span>
    <span>Italic</span>
    <span>Link</span>
    <span>Code</span>
  </div>

  <div class="card" data-tour-id="editor">
    <strong>Editor</strong>
    <p>Write your content here. The toolbar above provides formatting shortcuts.</p>
  </div>

  <div class="card" data-tour-id="shortcuts">
    <strong>Keyboard Shortcuts</strong>
    <p>Speed up your workflow with built-in shortcuts for common actions.</p>
  </div>

  <div class="card" data-tour-id="features">
    <strong>Feature Overview</strong>
    <p>A summary of what this editor can do.</p>
  </div>

  <torchlit-overlay></torchlit-overlay>

  <script type="module">
    // In a real project: import from 'torchlit'
    import { createTourService, TorchlitOverlay } from '../src/index.ts';
    import { html } from 'lit';

    if (!customElements.get('torchlit-overlay')) {
      customElements.define('torchlit-overlay', TorchlitOverlay);
    }

    const tours = createTourService({ storageKey: 'rich-content-example' });
    const overlay = document.querySelector('torchlit-overlay');
    overlay.service = tours;

    tours.register({
      id: 'rich-tour',
      name: 'Rich Content Tour',
      trigger: 'manual',
      steps: [
        {
          target: 'toolbar',
          title: 'Formatting Toolbar',
          // Rich HTML with inline formatting
          message: html`
            Use the toolbar to apply <strong>bold</strong>, <em>italic</em>,
            and <code>code</code> formatting to your text.
          `,
          placement: 'bottom',
        },
        {
          target: 'shortcuts',
          title: 'Keyboard Shortcuts',
          // Rich HTML with <kbd> elements
          message: html`
            Quick shortcuts:<br />
            <kbd>Ctrl+B</kbd> Bold &nbsp;
            <kbd>Ctrl+I</kbd> Italic &nbsp;
            <kbd>Ctrl+K</kbd> Link
          `,
          placement: 'bottom',
        },
        {
          target: 'editor',
          title: 'Getting Started',
          // Rich HTML with a small list
          message: html`
            To get started:
            <ul style="margin: 0.5rem 0 0 1.25rem; font-size: 0.8125rem; line-height: 1.7;">
              <li>Click in the editor area</li>
              <li>Type your content</li>
              <li>Use the toolbar or keyboard shortcuts to format</li>
            </ul>
          `,
          placement: 'top',
        },
        {
          target: 'features',
          title: 'Rich Messages',
          // Mix of HTML and plain text
          message: html`
            This tour demonstrates Lit <code>TemplateResult</code> messages.
            Any valid HTML works: <strong>bold</strong>, <em>italic</em>,
            <a href="#" style="color: #F26122;" onclick="return false">links</a>,
            and custom elements.
          `,
          placement: 'top',
        },
      ],
    });

    document.getElementById('start-tour').addEventListener('click', () => {
      tours.start('rich-tour');
    });
  </script>
</body>
</html>
